{
  "task": "MOSS - Open Positions + Applications & Hiring Workflow",
  "session_metadata": {
    "session_id": "moss_hiring_workflow_2025",
    "phase": "4-5",
    "tool_primary": "jules",
    "estimated_duration": "15 hours",
    "complexity": "MEDIUM"
  },

  "context_injection": {
    "project_base": "frontend/moss-hrp/",
    "existing_code": [
      "src/views/Admin/Employees.vue",
      "src/components/DataTable.vue",
      "src/components/FormModal.vue",
      "src/components/forms/EmployeeForm.vue"
    ],
    "pocketbase_collections": ["open_positions", "applications", "employees", "hotels", "departments", "positions"],
    "moss_business_rules": [
      "Area display (no specific hotel names for privacy)",
      "WhatsApp hiring chaos → formal digital workflow",
      "Document storage in OneDrive + metadata in Pocketbase"
    ],
    "constraints": [
      "No dependencies on mobile app or n8n workflows",
      "Standalone hiring workflow",
      "Mobile responsive design"
    ]
  },

  "tdd_specification": {
    "purpose": "Complete hiring workflow independent of timesheet/punch systems",
    "inputs": "Job postings, applications, candidate documents, hiring decisions",
    "outputs": "Structured hiring process, candidate tracking, new employee records",
    "test_criteria": [
      "unit_test: Open position CRUD operations work correctly",
      "integration_test: Application submission → hiring → employee creation flow",
      "e2e_test: Complete hiring workflow from posting to onboarding",
      "security_test: Role-based access controls enforced"
    ],
    "success_definition": "Formal hiring process replaces WhatsApp coordination completely"
  },

  "implementation_spec": {
    "phase_1_open_positions": {
      "duration": "2 days",
      "components_needed": [
        "src/views/Admin/OpenPositions.vue - Main positions list",
        "src/components/forms/OpenPositionForm.vue - Create/edit position",
        "src/components/PositionCard.vue - Display position info"
      ],
      "features": [
        "CRUD operations with area display (not hotel names)",
        "Status workflow (open → filled → closed)",
        "Salary range management",
        "Requirements and qualifications",
        "Application count tracking"
      ]
    },

    "phase_2_applications_hiring": {
      "duration": "3 days",
      "components_needed": [
        "src/views/Admin/Applications.vue - Applications dashboard",
        "src/components/ApplicationsList.vue - Filterable applications",
        "src/components/CandidateProfile.vue - Complete candidate view",
        "src/components/HiringActions.vue - Hire/reject decisions",
        "src/composables/useHiringWorkflow.js - Business logic"
      ],
      "features": [
        "Application status workflow (applied → reviewed → interviewed → hired/rejected)",
        "Candidate document management (OneDrive links)",
        "Bulk hiring operations",
        "Automatic employee creation on hire",
        "Email notifications (placeholder for future)"
      ]
    }
  },

  "removed_dependencies": {
    "employee_portal": "Postponed until mobile app and n8n are ready",
    "timesheet_data": "Not needed for hiring workflow",
    "punch_history": "Independent of hiring process",
    "n8n_workflows": "Hiring works without automation initially"
  },

  "file_tests_required": {
    "src/views/Admin/OpenPositions.vue": [
      "Renders positions list with area display only",
      "Create/edit position form validation works",
      "Status filtering functions correctly",
      "Application count displays accurately"
    ],
    "src/views/Admin/Applications.vue": [
      "Groups applications by position correctly",
      "Status workflow transitions work",
      "Candidate search and filtering function",
      "Document links display properly"
    ],
    "src/components/HiringActions.vue": [
      "Hire action creates employee record automatically",
      "Reject action updates status correctly",
      "Bulk operations work for multiple candidates",
      "Status change audit trail created"
    ]
  },

  "deliverables": {
    "primary_files": [
      "src/views/Admin/OpenPositions.vue",
      "src/views/Admin/Applications.vue",
      "src/components/forms/OpenPositionForm.vue",
      "src/components/CandidateProfile.vue",
      "src/components/HiringActions.vue",
      "src/composables/useHiringWorkflow.js"
    ],
    "integration_points": [
      "Router: /admin/open-positions, /admin/applications",
      "Navigation menu updates",
      "Employee creation integration"
    ]
  },

  "success_criteria": [
    "Open positions CRUD fully functional",
    "Complete hiring workflow from application to employee creation", 
    "Applications status tracking and bulk operations",
    "Document management integrated with OneDrive",
    "WhatsApp hiring process replaced with formal digital workflow",
    "No dependencies on mobile app or n8n workflows"
  ]
}
